{"ast":null,"code":"var _jsxFileName = \"D:\\\\usercode\\\\FinGenius\\\\frontend\\\\src\\\\components\\\\AddInvoice.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Alert from \"./Alert\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddInvoice = ({\n  invoiceType\n}) => {\n  _s();\n  const initialState = {\n    type: invoiceType,\n    invoiceDate: new Date().toISOString().split(\"T\")[0],\n    dueDate: \"\",\n    invoiceNo: \"\",\n    partnerId: \"\",\n    creditTerm: 0,\n    reference: \"\",\n    invoiceTotal: 0,\n    invoiceItems: []\n  };\n  const [invoiceData, setInvoiceData] = useState(initialState);\n  const [partners, setPartners] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [productId, setProductId] = useState(\"\");\n  const [quantity, setQuantity] = useState(1);\n  const [alert, setAlert] = useState(null);\n  const navigate = useNavigate();\n\n  // Fetch initial data\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [partnersRes, productsRes, invoicesRes] = await Promise.all([axios.get(`/partners?type=${invoiceType === \"sales\" ? \"customer\" : \"vendor\"}&status=Active`), axios.get(\"/products?status=Active\"), axios.get(`/invoices?type=${invoiceType}`)]);\n\n        // Set partners\n        setPartners(partnersRes.data);\n\n        // Format products and ensure rate is a number\n        const formattedProducts = productsRes.data.map(product => ({\n          ...product,\n          rate: Number(product.rate) || 0,\n          salesTax: Number(product.salesTax) || 0\n        }));\n        setProducts(formattedProducts);\n\n        // Generate invoice number\n        const nextInvoiceNumber = `${invoiceType === \"sales\" ? \"SI\" : \"PI\"}-${String(invoicesRes.data.length + 1).padStart(4, \"0\")}`;\n        setInvoiceData(prev => ({\n          ...prev,\n          invoiceNo: nextInvoiceNumber\n        }));\n      } catch (error) {\n        setAlert({\n          type: \"error\",\n          message: \"Failed to load initial data. Please try again.\"\n        });\n      }\n    };\n    fetchData();\n  }, [invoiceType]);\n\n  // Handle input changes\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setInvoiceData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Handle credit term change and calculate due date\n  const handleCreditTermChange = e => {\n    const creditTerm = parseInt(e.target.value, 10) || 0;\n    const dueDate = new Date();\n    dueDate.setDate(dueDate.getDate() + creditTerm);\n    setInvoiceData(prev => ({\n      ...prev,\n      creditTerm,\n      dueDate: dueDate.toISOString().split(\"T\")[0]\n    }));\n  };\n\n  // Add product to invoice items\n  const addProduct = () => {\n    const selectedProduct = products.find(product => product._id === productId);\n    if (selectedProduct && quantity > 0) {\n      const rate = Number(selectedProduct.rate);\n      const valueOfSupplies = quantity * rate;\n      const salesTax = valueOfSupplies * selectedProduct.salesTax / 100;\n      const netAmount = valueOfSupplies + salesTax;\n      const newItem = {\n        productId,\n        productName: selectedProduct.name,\n        quantity,\n        rate,\n        valueOfSupplies,\n        salesTax,\n        netAmount\n      };\n      setInvoiceData(prev => ({\n        ...prev,\n        invoiceItems: [...prev.invoiceItems, newItem],\n        invoiceTotal: prev.invoiceTotal + netAmount\n      }));\n      setProductId(\"\");\n      setQuantity(1);\n    } else {\n      setAlert({\n        type: \"error\",\n        message: \"Please select a product and enter quantity.\"\n      });\n    }\n  };\n\n  // Remove product from invoice items\n  const handleRemoveInvoiceItem = index => {\n    const updatedItems = invoiceData.invoiceItems.filter((_, i) => i !== index);\n    const newTotal = updatedItems.reduce((sum, item) => sum + item.netAmount, 0);\n    setInvoiceData(prev => ({\n      ...prev,\n      invoiceItems: updatedItems,\n      invoiceTotal: newTotal\n    }));\n  };\n\n  // Submit invoice\n  const handleSubmit = async e => {\n    e.preventDefault();\n    console.log(\"Sending Invoice Data:\", invoiceData);\n    try {\n      const response = await axios.post(\"/invoices\", invoiceData);\n      if (response.status === 201) {\n        setAlert({\n          type: \"success\",\n          message: \"Invoice added successfully!\"\n        });\n        navigate(`/${invoiceType}invoices`);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(\"Error response:\", error.response);\n      setAlert({\n        type: \"error\",\n        message: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Failed to add invoice. Please try again.\"\n      });\n    }\n  };\n\n  // Cancel action\n  const handleCancel = () => {\n    navigate(`/${invoiceType}invoices`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [alert && /*#__PURE__*/_jsxDEV(Alert, {\n      type: alert.type,\n      message: alert.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card shadow-lg border-0\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header bg-gradient-primary text-white\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-center mb-0\",\n          children: [\"Add \", invoiceType === \"sales\" ? \"Sales\" : \"Purchase\", \" Invoice\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Invoice Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Invoice No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  value: invoiceData.invoiceNo,\n                  readOnly: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: invoiceType === \"sales\" ? \"Customer\" : \"Vendor\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-select\",\n                  name: \"partnerId\",\n                  value: invoiceData.partnerId,\n                  onChange: handleChange,\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 21\n                  }, this), partners.map(partner => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: partner._id,\n                    children: [partner.firstName, \" \", partner.lastName]\n                  }, partner._id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Credit Term (days)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  className: \"form-control\",\n                  value: invoiceData.creditTerm,\n                  onChange: handleCreditTermChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Due Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  className: \"form-control\",\n                  value: invoiceData.dueDate,\n                  readOnly: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Invoice Items\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Product\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-select\",\n                  value: productId,\n                  onChange: e => setProductId(e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select Product\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 21\n                  }, this), products.map(product => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: product._id,\n                    children: product.name\n                  }, product._id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 23\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Quantity\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  className: \"form-control\",\n                  value: quantity,\n                  onChange: e => setQuantity(Number(e.target.value)),\n                  min: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-3 mt-4\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-success\",\n                  onClick: addProduct,\n                  children: \"Add Product\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), invoiceData.invoiceItems.length > 0 && /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Product\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Quantity\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Rate\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Value\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Tax\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Net Amount\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: invoiceData.invoiceItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: item.productName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: item.quantity\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [\"$\", item.rate.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [\"$\", item.valueOfSupplies.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [\"$\", item.salesTax.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [\"$\", item.netAmount.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-danger btn-sm\",\n                      onClick: () => handleRemoveInvoiceItem(index),\n                      children: \"Remove\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 269,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 25\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-success me-3\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-danger\",\n              onClick: handleCancel,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 5\n  }, this);\n};\n_s(AddInvoice, \"JA7OKCqFWPUL6/ZGO51utdc6Or0=\", false, function () {\n  return [useNavigate];\n});\n_c = AddInvoice;\nexport default AddInvoice;\nvar _c;\n$RefreshReg$(_c, \"AddInvoice\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Alert","axios","jsxDEV","_jsxDEV","AddInvoice","invoiceType","_s","initialState","type","invoiceDate","Date","toISOString","split","dueDate","invoiceNo","partnerId","creditTerm","reference","invoiceTotal","invoiceItems","invoiceData","setInvoiceData","partners","setPartners","products","setProducts","productId","setProductId","quantity","setQuantity","alert","setAlert","navigate","fetchData","partnersRes","productsRes","invoicesRes","Promise","all","get","data","formattedProducts","map","product","rate","Number","salesTax","nextInvoiceNumber","String","length","padStart","prev","error","message","handleChange","e","name","value","target","handleCreditTermChange","parseInt","setDate","getDate","addProduct","selectedProduct","find","_id","valueOfSupplies","netAmount","newItem","productName","handleRemoveInvoiceItem","index","updatedItems","filter","_","i","newTotal","reduce","sum","item","handleSubmit","preventDefault","console","log","response","post","status","_error$response","_error$response$data","handleCancel","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","readOnly","onChange","required","partner","firstName","lastName","min","onClick","toFixed","_c","$RefreshReg$"],"sources":["D:/usercode/FinGenius/frontend/src/components/AddInvoice.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Alert from \"./Alert\";\r\nimport axios from \"axios\";\r\n\r\nconst AddInvoice = ({ invoiceType }) => {\r\n  const initialState = {\r\n    type: invoiceType,\r\n    invoiceDate: new Date().toISOString().split(\"T\")[0],\r\n    dueDate: \"\",\r\n    invoiceNo: \"\",\r\n    partnerId: \"\",\r\n    creditTerm: 0,\r\n    reference: \"\",\r\n    invoiceTotal: 0,\r\n    invoiceItems: [],\r\n  };\r\n\r\n  const [invoiceData, setInvoiceData] = useState(initialState);\r\n  const [partners, setPartners] = useState([]);\r\n  const [products, setProducts] = useState([]);\r\n  const [productId, setProductId] = useState(\"\");\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [alert, setAlert] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  // Fetch initial data\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [partnersRes, productsRes, invoicesRes] = await Promise.all([\r\n          axios.get(\r\n            `/partners?type=${\r\n              invoiceType === \"sales\" ? \"customer\" : \"vendor\"\r\n            }&status=Active`\r\n          ),\r\n          axios.get(\"/products?status=Active\"),\r\n          axios.get(`/invoices?type=${invoiceType}`),\r\n        ]);\r\n\r\n        // Set partners\r\n        setPartners(partnersRes.data);\r\n\r\n        // Format products and ensure rate is a number\r\n        const formattedProducts = productsRes.data.map((product) => ({\r\n          ...product,\r\n          rate: Number(product.rate) || 0,\r\n          salesTax: Number(product.salesTax) || 0,\r\n        }));\r\n        setProducts(formattedProducts);\r\n\r\n        // Generate invoice number\r\n        const nextInvoiceNumber = `${\r\n          invoiceType === \"sales\" ? \"SI\" : \"PI\"\r\n        }-${String(invoicesRes.data.length + 1).padStart(4, \"0\")}`;\r\n        setInvoiceData((prev) => ({ ...prev, invoiceNo: nextInvoiceNumber }));\r\n      } catch (error) {\r\n        setAlert({\r\n          type: \"error\",\r\n          message: \"Failed to load initial data. Please try again.\",\r\n        });\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [invoiceType]);\r\n\r\n  // Handle input changes\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setInvoiceData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  // Handle credit term change and calculate due date\r\n  const handleCreditTermChange = (e) => {\r\n    const creditTerm = parseInt(e.target.value, 10) || 0;\r\n    const dueDate = new Date();\r\n    dueDate.setDate(dueDate.getDate() + creditTerm);\r\n\r\n    setInvoiceData((prev) => ({\r\n      ...prev,\r\n      creditTerm,\r\n      dueDate: dueDate.toISOString().split(\"T\")[0],\r\n    }));\r\n  };\r\n\r\n  // Add product to invoice items\r\n  const addProduct = () => {\r\n    const selectedProduct = products.find((product) => product._id === productId);\r\n    if (selectedProduct && quantity > 0) {\r\n      const rate = Number(selectedProduct.rate);\r\n      const valueOfSupplies = quantity * rate;\r\n      const salesTax = (valueOfSupplies * selectedProduct.salesTax) / 100;\r\n      const netAmount = valueOfSupplies + salesTax;\r\n\r\n      const newItem = {\r\n        productId,\r\n        productName: selectedProduct.name,\r\n        quantity,\r\n        rate,\r\n        valueOfSupplies,\r\n        salesTax,\r\n        netAmount,\r\n      };\r\n\r\n      setInvoiceData((prev) => ({\r\n        ...prev,\r\n        invoiceItems: [...prev.invoiceItems, newItem],\r\n        invoiceTotal: prev.invoiceTotal + netAmount,\r\n      }));\r\n\r\n      setProductId(\"\");\r\n      setQuantity(1);\r\n    } else {\r\n      setAlert({ type: \"error\", message: \"Please select a product and enter quantity.\" });\r\n    }\r\n  };\r\n\r\n  // Remove product from invoice items\r\n  const handleRemoveInvoiceItem = (index) => {\r\n    const updatedItems = invoiceData.invoiceItems.filter((_, i) => i !== index);\r\n    const newTotal = updatedItems.reduce((sum, item) => sum + item.netAmount, 0);\r\n\r\n    setInvoiceData((prev) => ({\r\n      ...prev,\r\n      invoiceItems: updatedItems,\r\n      invoiceTotal: newTotal,\r\n    }));\r\n  };\r\n\r\n  // Submit invoice\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log(\"Sending Invoice Data:\", invoiceData);\r\n\r\n    try {\r\n      const response = await axios.post(\"/invoices\", invoiceData);\r\n      if (response.status === 201) {\r\n        setAlert({ type: \"success\", message: \"Invoice added successfully!\" });\r\n        navigate(`/${invoiceType}invoices`);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error response:\", error.response);\r\n      setAlert({\r\n        type: \"error\",\r\n        message:\r\n          error.response?.data?.message || \"Failed to add invoice. Please try again.\",\r\n      });\r\n    }\r\n  };\r\n\r\n  // Cancel action\r\n  const handleCancel = () => {\r\n    navigate(`/${invoiceType}invoices`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      {alert && <Alert type={alert.type} message={alert.message} />}\r\n      <div className=\"card shadow-lg border-0\">\r\n        <div className=\"card-header bg-gradient-primary text-white\">\r\n          <h3 className=\"text-center mb-0\">\r\n            Add {invoiceType === \"sales\" ? \"Sales\" : \"Purchase\"} Invoice\r\n          </h3>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <form onSubmit={handleSubmit}>\r\n            {/* Invoice Details */}\r\n            <div className=\"mb-4\">\r\n              <h5>Invoice Details</h5>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-6 mb-3\">\r\n                  <label>Invoice No</label>\r\n                  <input type=\"text\" className=\"form-control\" value={invoiceData.invoiceNo} readOnly />\r\n                </div>\r\n                <div className=\"col-md-6 mb-3\">\r\n                  <label>{invoiceType === \"sales\" ? \"Customer\" : \"Vendor\"}</label>\r\n                  <select\r\n                    className=\"form-select\"\r\n                    name=\"partnerId\"\r\n                    value={invoiceData.partnerId}\r\n                    onChange={handleChange}\r\n                    required\r\n                  >\r\n                    <option value=\"\">Select</option>\r\n                    {partners.map((partner) => (\r\n                      <option key={partner._id} value={partner._id}>\r\n                        {partner.firstName} {partner.lastName}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"col-md-6 mb-3\">\r\n                  <label>Credit Term (days)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    value={invoiceData.creditTerm}\r\n                    onChange={handleCreditTermChange}\r\n                  />\r\n                </div>\r\n                <div className=\"col-md-6 mb-3\">\r\n                  <label>Due Date</label>\r\n                  <input type=\"date\" className=\"form-control\" value={invoiceData.dueDate} readOnly />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Invoice Items */}\r\n            <div className=\"mb-4\">\r\n              <h5>Invoice Items</h5>\r\n              <div className=\"row mb-3\">\r\n                <div className=\"col-md-4\">\r\n                  <label>Product</label>\r\n                  <select\r\n                    className=\"form-select\"\r\n                    value={productId}\r\n                    onChange={(e) => setProductId(e.target.value)}\r\n                  >\r\n                    <option value=\"\">Select Product</option>\r\n                    {products.map((product) => (\r\n                      <option key={product._id} value={product._id}>\r\n                        {product.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"col-md-3\">\r\n                  <label>Quantity</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"form-control\"\r\n                    value={quantity}\r\n                    onChange={(e) => setQuantity(Number(e.target.value))}\r\n                    min=\"1\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-md-3 mt-4\">\r\n                  <button type=\"button\" className=\"btn btn-success\" onClick={addProduct}>\r\n                    Add Product\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Invoice Items Table */}\r\n              {invoiceData.invoiceItems.length > 0 && (\r\n                <table className=\"table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Product</th>\r\n                      <th>Quantity</th>\r\n                      <th>Rate</th>\r\n                      <th>Value</th>\r\n                      <th>Tax</th>\r\n                      <th>Net Amount</th>\r\n                      <th>Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {invoiceData.invoiceItems.map((item, index) => (\r\n                      <tr key={index}>\r\n                        <td>{item.productName}</td>\r\n                        <td>{item.quantity}</td>\r\n                        <td>${item.rate.toFixed(2)}</td>\r\n                        <td>${item.valueOfSupplies.toFixed(2)}</td>\r\n                        <td>${item.salesTax.toFixed(2)}</td>\r\n                        <td>${item.netAmount.toFixed(2)}</td>\r\n                        <td>\r\n                          <button\r\n                            className=\"btn btn-danger btn-sm\"\r\n                            onClick={() => handleRemoveInvoiceItem(index)}\r\n                          >\r\n                            Remove\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"text-center\">\r\n              <button type=\"submit\" className=\"btn btn-success me-3\">\r\n                Submit\r\n              </button>\r\n              <button type=\"button\" className=\"btn btn-danger\" onClick={handleCancel}>\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddInvoice;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}