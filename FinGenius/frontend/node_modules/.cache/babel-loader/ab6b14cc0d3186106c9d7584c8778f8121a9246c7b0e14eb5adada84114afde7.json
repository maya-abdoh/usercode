{"ast":null,"code":"var _jsxFileName = \"D:\\\\usercode\\\\FinGenius\\\\frontend\\\\src\\\\components\\\\AddInvoice.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Spinner from \"./Spinner\";\nimport Alert from \"./Alert\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AddInvoice = ({\n  invoiceType\n}) => {\n  _s();\n  const navigate = useNavigate();\n\n  // State variables\n  const [isLoading, setIsLoading] = useState(true);\n  const [alertType, setAlertType] = useState(null);\n  const [alertMessage, setAlertMessage] = useState(\"\");\n  const [partners, setPartners] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [invoiceItems, setInvoiceItems] = useState([]);\n  const [productId, setProductId] = useState(\"\");\n  const [quantity, setQuantity] = useState(0);\n  const [invoiceData, setInvoiceData] = useState({\n    invoiceNo: \"\",\n    partnerId: \"\",\n    reference: \"\",\n    dueDate: \"\",\n    creditTerm: \"\",\n    invoiceDate: \"\",\n    invoiceTotal: 0\n  });\n\n  // Fetch data when the component mounts or invoiceType changes\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [invoiceNumberResponse, partnersResponse, productsResponse] = await Promise.all([axios.get(`/invoices?type=${invoiceType}`), axios.get(`/partners?type=${invoiceType === \"sales\" ? \"customer\" : \"vendor\"}&status=Active`), axios.get(`/products?status=Active`)]);\n\n        // Handle invoice number generation\n        if (invoiceNumberResponse.status === 200) {\n          const totalInvoices = invoiceNumberResponse.data.length;\n          const nextInvoiceNumber = `${invoiceType === \"sales\" ? \"SI\" : \"PI\"}-${String(totalInvoices + 1).padStart(4, \"0\")}`;\n          setInvoiceData(prevData => ({\n            ...prevData,\n            invoiceNo: nextInvoiceNumber\n          }));\n        }\n\n        // Handle partners data\n        if (partnersResponse.status === 200) {\n          setPartners(partnersResponse.data);\n        }\n\n        // Handle products data\n        if (productsResponse.status === 200) {\n          setProducts(productsResponse.data);\n        }\n        setIsLoading(false);\n      } catch (error) {\n        setAlertType(\"danger\");\n        setAlertMessage(`Failed to fetch data: ${error.message}`);\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, [invoiceType]);\n\n  // Handle form changes\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setInvoiceData(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n  };\n\n  // Add product to invoice items\n  const addProduct = () => {\n    if (productId && quantity > 0) {\n      const selectedProduct = products.find(product => product._id === productId);\n      if (selectedProduct) {\n        const valueOfSupplies = quantity * selectedProduct.rate;\n        const salesTax = valueOfSupplies * selectedProduct.salesTax / 100;\n        const netAmount = valueOfSupplies + salesTax;\n        const newItem = {\n          productName: selectedProduct.name,\n          quantity,\n          rate: selectedProduct.rate,\n          valueOfSupplies,\n          salesTax,\n          netAmount\n        };\n        setInvoiceItems([...invoiceItems, newItem]);\n        setInvoiceData(prevData => ({\n          ...prevData,\n          invoiceTotal: prevData.invoiceTotal + netAmount\n        }));\n        setProductId(\"\");\n        setQuantity(0);\n      }\n    }\n  };\n\n  // Remove an item from invoice\n  const handleRemoveInvoiceItem = itemToRemove => {\n    const updatedItems = invoiceItems.filter(item => item !== itemToRemove);\n    const newInvoiceTotal = updatedItems.reduce((total, item) => total + item.netAmount, 0);\n    setInvoiceItems(updatedItems);\n    setInvoiceData(prevData => ({\n      ...prevData,\n      invoiceTotal: newInvoiceTotal\n    }));\n  };\n\n  // Handle credit term change\n  const handleCreditTermChange = e => {\n    const creditTerm = parseInt(e.target.value, 10);\n    const invoiceDate = new Date();\n    const dueDate = new Date(invoiceDate.getTime() + creditTerm * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0];\n    setInvoiceData(prevData => ({\n      ...prevData,\n      creditTerm,\n      dueDate,\n      invoiceDate: invoiceDate.toISOString().split(\"T\")[0]\n    }));\n  };\n\n  // Submit the form\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post(\"/invoices\", {\n        ...invoiceData,\n        invoiceItems\n      });\n      if (response.status === 201) {\n        setAlertType(\"success\");\n        setAlertMessage(\"Invoice added successfully.\");\n        navigate(`/${invoiceType}invoices`);\n      } else {\n        setAlertType(\"danger\");\n        setAlertMessage(\"Failed to add invoice.\");\n      }\n    } catch (error) {\n      setAlertType(\"danger\");\n      setAlertMessage(`Failed to add invoice: ${error.message}`);\n    }\n  };\n\n  // Cancel the form\n  const handleCancel = () => {\n    navigate(`/${invoiceType}invoices`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: isLoading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Create \", invoiceType === \"sales\" ? \"Sales\" : \"Purchase\", \" Invoice\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"invoiceNo\",\n                children: \"Invoice No.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"invoiceNo\",\n                className: \"form-control\",\n                value: invoiceData.invoiceNo,\n                readOnly: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"partnerId\",\n                children: [invoiceType === \"sales\" ? \"Customer\" : \"Vendor\", \" Name\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"partnerId\",\n                className: \"form-select\",\n                value: invoiceData.partnerId,\n                onChange: handleChange,\n                name: \"partnerId\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Partner\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 21\n                }, this), partners.map(partner => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: partner._id,\n                  children: [partner.firstName, \" \", partner.lastName]\n                }, partner._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"creditTerm\",\n                children: \"Credit Term\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                id: \"creditTerm\",\n                className: \"form-control\",\n                value: invoiceData.creditTerm,\n                onChange: handleCreditTermChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"dueDate\",\n                children: \"Due Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"dueDate\",\n                className: \"form-control\",\n                value: invoiceData.dueDate,\n                readOnly: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Invoice Items\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"productId\",\n              children: \"Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"productId\",\n              className: \"form-select\",\n              value: productId,\n              onChange: e => setProductId(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 19\n              }, this), products.map(product => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: product._id,\n                children: product.name\n              }, product._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"quantity\",\n              children: \"Quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              id: \"quantity\",\n              className: \"form-control\",\n              value: quantity,\n              onChange: e => setQuantity(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-3\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary mt-4\",\n              onClick: addProduct,\n              children: \"Add Item\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"#\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Product Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Quantity\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Rate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Value\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Tax\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Net Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: invoiceItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: index + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.productName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.rate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.valueOfSupplies\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.salesTax\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: item.netAmount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn btn-danger\",\n                    onClick: () => handleRemoveInvoiceItem(item),\n                    children: \"Remove\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-end\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-secondary me-2\",\n            onClick: handleCancel,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-success\",\n            children: \"Save Invoice\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, this), alertMessage && /*#__PURE__*/_jsxDEV(Alert, {\n        type: alertType,\n        message: alertMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 28\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this);\n};\n_s(AddInvoice, \"hHdGfDsaBGlG4chhaSzyGC7wu9Q=\", false, function () {\n  return [useNavigate];\n});\n_c = AddInvoice;\nexport default AddInvoice;\nvar _c;\n$RefreshReg$(_c, \"AddInvoice\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","Spinner","Alert","jsxDEV","_jsxDEV","Fragment","_Fragment","AddInvoice","invoiceType","_s","navigate","isLoading","setIsLoading","alertType","setAlertType","alertMessage","setAlertMessage","partners","setPartners","products","setProducts","invoiceItems","setInvoiceItems","productId","setProductId","quantity","setQuantity","invoiceData","setInvoiceData","invoiceNo","partnerId","reference","dueDate","creditTerm","invoiceDate","invoiceTotal","fetchData","invoiceNumberResponse","partnersResponse","productsResponse","Promise","all","get","status","totalInvoices","data","length","nextInvoiceNumber","String","padStart","prevData","error","message","handleChange","e","name","value","target","addProduct","selectedProduct","find","product","_id","valueOfSupplies","rate","salesTax","netAmount","newItem","productName","handleRemoveInvoiceItem","itemToRemove","updatedItems","filter","item","newInvoiceTotal","reduce","total","handleCreditTermChange","parseInt","Date","getTime","toISOString","split","handleSubmit","preventDefault","response","post","handleCancel","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","readOnly","onChange","map","partner","firstName","lastName","onClick","index","_c","$RefreshReg$"],"sources":["D:/usercode/FinGenius/frontend/src/components/AddInvoice.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Spinner from \"./Spinner\";\r\nimport Alert from \"./Alert\";\r\n\r\nconst AddInvoice = ({ invoiceType }) => {\r\n  const navigate = useNavigate();\r\n\r\n  // State variables\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [alertType, setAlertType] = useState(null);\r\n  const [alertMessage, setAlertMessage] = useState(\"\");\r\n  const [partners, setPartners] = useState([]);\r\n  const [products, setProducts] = useState([]);\r\n  const [invoiceItems, setInvoiceItems] = useState([]);\r\n  const [productId, setProductId] = useState(\"\");\r\n  const [quantity, setQuantity] = useState(0);\r\n  const [invoiceData, setInvoiceData] = useState({\r\n    invoiceNo: \"\",\r\n    partnerId: \"\",\r\n    reference: \"\",\r\n    dueDate: \"\",\r\n    creditTerm: \"\",\r\n    invoiceDate: \"\",\r\n    invoiceTotal: 0,\r\n  });\r\n\r\n  // Fetch data when the component mounts or invoiceType changes\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [invoiceNumberResponse, partnersResponse, productsResponse] =\r\n          await Promise.all([\r\n            axios.get(`/invoices?type=${invoiceType}`),\r\n            axios.get(\r\n              `/partners?type=${\r\n                invoiceType === \"sales\" ? \"customer\" : \"vendor\"\r\n              }&status=Active`\r\n            ),\r\n            axios.get(`/products?status=Active`),\r\n          ]);\r\n\r\n        // Handle invoice number generation\r\n        if (invoiceNumberResponse.status === 200) {\r\n          const totalInvoices = invoiceNumberResponse.data.length;\r\n          const nextInvoiceNumber = `${\r\n            invoiceType === \"sales\" ? \"SI\" : \"PI\"\r\n          }-${String(totalInvoices + 1).padStart(4, \"0\")}`;\r\n          setInvoiceData((prevData) => ({\r\n            ...prevData,\r\n            invoiceNo: nextInvoiceNumber,\r\n          }));\r\n        }\r\n\r\n        // Handle partners data\r\n        if (partnersResponse.status === 200) {\r\n          setPartners(partnersResponse.data);\r\n        }\r\n\r\n        // Handle products data\r\n        if (productsResponse.status === 200) {\r\n          setProducts(productsResponse.data);\r\n        }\r\n\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        setAlertType(\"danger\");\r\n        setAlertMessage(`Failed to fetch data: ${error.message}`);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [invoiceType]);\r\n\r\n  // Handle form changes\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setInvoiceData((prevData) => ({ ...prevData, [name]: value }));\r\n  };\r\n\r\n  // Add product to invoice items\r\n  const addProduct = () => {\r\n    if (productId && quantity > 0) {\r\n      const selectedProduct = products.find(\r\n        (product) => product._id === productId\r\n      );\r\n      if (selectedProduct) {\r\n        const valueOfSupplies = quantity * selectedProduct.rate;\r\n        const salesTax = (valueOfSupplies * selectedProduct.salesTax) / 100;\r\n        const netAmount = valueOfSupplies + salesTax;\r\n\r\n        const newItem = {\r\n          productName: selectedProduct.name,\r\n          quantity,\r\n          rate: selectedProduct.rate,\r\n          valueOfSupplies,\r\n          salesTax,\r\n          netAmount,\r\n        };\r\n\r\n        setInvoiceItems([...invoiceItems, newItem]);\r\n        setInvoiceData((prevData) => ({\r\n          ...prevData,\r\n          invoiceTotal: prevData.invoiceTotal + netAmount,\r\n        }));\r\n        setProductId(\"\");\r\n        setQuantity(0);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Remove an item from invoice\r\n  const handleRemoveInvoiceItem = (itemToRemove) => {\r\n    const updatedItems = invoiceItems.filter((item) => item !== itemToRemove);\r\n    const newInvoiceTotal = updatedItems.reduce(\r\n      (total, item) => total + item.netAmount,\r\n      0\r\n    );\r\n    setInvoiceItems(updatedItems);\r\n    setInvoiceData((prevData) => ({\r\n      ...prevData,\r\n      invoiceTotal: newInvoiceTotal,\r\n    }));\r\n  };\r\n\r\n  // Handle credit term change\r\n  const handleCreditTermChange = (e) => {\r\n    const creditTerm = parseInt(e.target.value, 10);\r\n    const invoiceDate = new Date();\r\n    const dueDate = new Date(\r\n      invoiceDate.getTime() + creditTerm * 24 * 60 * 60 * 1000\r\n    )\r\n      .toISOString()\r\n      .split(\"T\")[0];\r\n\r\n    setInvoiceData((prevData) => ({\r\n      ...prevData,\r\n      creditTerm,\r\n      dueDate,\r\n      invoiceDate: invoiceDate.toISOString().split(\"T\")[0],\r\n    }));\r\n  };\r\n\r\n  // Submit the form\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.post(\"/invoices\", {\r\n        ...invoiceData,\r\n        invoiceItems,\r\n      });\r\n      if (response.status === 201) {\r\n        setAlertType(\"success\");\r\n        setAlertMessage(\"Invoice added successfully.\");\r\n        navigate(`/${invoiceType}invoices`);\r\n      } else {\r\n        setAlertType(\"danger\");\r\n        setAlertMessage(\"Failed to add invoice.\");\r\n      }\r\n    } catch (error) {\r\n      setAlertType(\"danger\");\r\n      setAlertMessage(`Failed to add invoice: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  // Cancel the form\r\n  const handleCancel = () => {\r\n    navigate(`/${invoiceType}invoices`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      {isLoading ? (\r\n        <Spinner />\r\n      ) : (\r\n        <>\r\n          <h2>\r\n            Create {invoiceType === \"sales\" ? \"Sales\" : \"Purchase\"} Invoice\r\n          </h2>\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6\">\r\n                <div className=\"mb-3\">\r\n                  <label htmlFor=\"invoiceNo\">Invoice No.</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"invoiceNo\"\r\n                    className=\"form-control\"\r\n                    value={invoiceData.invoiceNo}\r\n                    readOnly\r\n                  />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <label htmlFor=\"partnerId\">\r\n                    {invoiceType === \"sales\" ? \"Customer\" : \"Vendor\"} Name\r\n                  </label>\r\n                  <select\r\n                    id=\"partnerId\"\r\n                    className=\"form-select\"\r\n                    value={invoiceData.partnerId}\r\n                    onChange={handleChange}\r\n                    name=\"partnerId\"\r\n                  >\r\n                    <option value=\"\">Select Partner</option>\r\n                    {partners.map((partner) => (\r\n                      <option key={partner._id} value={partner._id}>\r\n                        {partner.firstName} {partner.lastName}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <div className=\"mb-3\">\r\n                  <label htmlFor=\"creditTerm\">Credit Term</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    id=\"creditTerm\"\r\n                    className=\"form-control\"\r\n                    value={invoiceData.creditTerm}\r\n                    onChange={handleCreditTermChange}\r\n                  />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <label htmlFor=\"dueDate\">Due Date</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"dueDate\"\r\n                    className=\"form-control\"\r\n                    value={invoiceData.dueDate}\r\n                    readOnly\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              <h3>Invoice Items</h3>\r\n              <div className=\"col-md-6\">\r\n                <label htmlFor=\"productId\">Product</label>\r\n                <select\r\n                  id=\"productId\"\r\n                  className=\"form-select\"\r\n                  value={productId}\r\n                  onChange={(e) => setProductId(e.target.value)}\r\n                >\r\n                  <option value=\"\">Select Product</option>\r\n                  {products.map((product) => (\r\n                    <option key={product._id} value={product._id}>\r\n                      {product.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <label htmlFor=\"quantity\">Quantity</label>\r\n                <input\r\n                  type=\"number\"\r\n                  id=\"quantity\"\r\n                  className=\"form-control\"\r\n                  value={quantity}\r\n                  onChange={(e) => setQuantity(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary mt-4\"\r\n                  onClick={addProduct}\r\n                >\r\n                  Add Item\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n              <table className=\"table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>#</th>\r\n                    <th>Product Name</th>\r\n                    <th>Quantity</th>\r\n                    <th>Rate</th>\r\n                    <th>Value</th>\r\n                    <th>Tax</th>\r\n                    <th>Net Amount</th>\r\n                    <th>Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {invoiceItems.map((item, index) => (\r\n                    <tr key={index}>\r\n                      <td>{index + 1}</td>\r\n                      <td>{item.productName}</td>\r\n                      <td>{item.quantity}</td>\r\n                      <td>{item.rate}</td>\r\n                      <td>{item.valueOfSupplies}</td>\r\n                      <td>{item.salesTax}</td>\r\n                      <td>{item.netAmount}</td>\r\n                      <td>\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"btn btn-danger\"\r\n                          onClick={() => handleRemoveInvoiceItem(item)}\r\n                        >\r\n                          Remove\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div className=\"d-flex justify-content-end\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-secondary me-2\"\r\n                onClick={handleCancel}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button type=\"submit\" className=\"btn btn-success\">\r\n                Save Invoice\r\n              </button>\r\n            </div>\r\n          </form>\r\n          {alertMessage && <Alert type={alertType} message={alertMessage} />}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddInvoice;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}